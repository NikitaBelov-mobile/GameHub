<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" class="logo" width="120"/>

# ПОЛНОЕ ТЕХНИЧЕСКОЕ ОПИСАНИЕ ANDROID-ПРИЛОЖЕНИЯ "GAMEHUB"

## 1. ОБЗОР ПРИЛОЖЕНИЯ

GameHub - это современное Android-приложение для исследования и каталогизации видеоигр с использованием RAWG Video Games Database API. Приложение построено по принципу "Offline-First" и демонстрирует передовые практики Android-разработки [^1][^2].

Основные возможности:

- Просмотр каталога из более чем 500,000 игр с богатыми метаданными [^3]
- Персонализация через систему избранного и коллекций [^4]
- Продвинутый поиск и фильтрация игр [^5]
- Полная поддержка офлайн-режима [^4]
- Система рекомендаций похожих игр [^6]


## 2. СТРУКТУРА БАЗЫ ДАННЫХ

### 2.1 ER-диаграмма базы данных

```
+----------------+       +-------------------+       +----------------+
|     Game       |       | GamePlatformCross |       |    Platform    |
+----------------+       +-------------------+       +----------------+
| id (PK)        |       | game_id (PK, FK)  |       | id (PK)        |
| name           |<----->| platform_id (PK,FK|<----->| name           |
| description    |       +-------------------+       | slug           |
| released       |                                   +----------------+
| background_img |       +------------------+
| rating         |       | GameGenreCross   |       +----------------+
| metacritic     |       +------------------+       |     Genre      |
| last_updated   |       | game_id (PK, FK) |       +----------------+
| is_favorite    |<----->| genre_id (PK, FK)|<----->| id (PK)        |
+----------------+       +------------------+       | name           |
       ^                                            | slug           |
       |                 +------------------+       +----------------+
       |                 |   Screenshot     |
       |                 +------------------+
       |                 | id (PK)          |
       +---------------->| game_id (FK)     |
       |                 | image_url        |
       |                 | width            |
       |                 | height           |
       |                 +------------------+
       |
       |                 +------------------+
       |                 |   Collection     |
       |                 +------------------+
       |                 | id (PK)          |
       |                 | name             |
       |                 | description      |
       |                 | created_at       |
       |                 +------------------+
       |                        ^
       |                        |
       |                 +------------------+
       |                 | CollectionGame   |
       |                 +------------------+
       +---------------->| collection_id (FK)|
                         | game_id (FK)     |
                         +------------------+
```


### 2.2 Описание таблиц

#### Таблица Game

Основная таблица для хранения информации об играх [^7][^8]:

- **id**: уникальный идентификатор игры (Primary Key)
- **name**: название игры
- **description**: описание игры
- **released**: дата выпуска
- **background_img**: URL обложки игры
- **rating**: рейтинг игры (0-5)
- **metacritic**: оценка Metacritic
- **last_updated**: время последнего обновления записи
- **is_favorite**: флаг "добавлено в избранное"


#### Таблица Platform

Хранит информацию о платформах [^6]:

- **id**: уникальный идентификатор платформы
- **name**: название платформы
- **slug**: уникальный строковый идентификатор для URL


#### Таблица Genre

Хранит информацию о жанрах игр [^6]:

- **id**: уникальный идентификатор жанра
- **name**: название жанра
- **slug**: уникальный строковый идентификатор для URL


#### Таблица GamePlatformCross

Связующая таблица для связи "многие-ко-многим" между играми и платформами [^8]:

- **game_id**: идентификатор игры (Foreign Key)
- **platform_id**: идентификатор платформы (Foreign Key)


#### Таблица GameGenreCross

Связующая таблица для связи "многие-ко-многим" между играми и жанрами [^8]:

- **game_id**: идентификатор игры (Foreign Key)
- **genre_id**: идентификатор жанра (Foreign Key)


#### Таблица Screenshot

Хранит скриншоты игр [^6][^3]:

- **id**: уникальный идентификатор скриншота
- **game_id**: идентификатор игры (Foreign Key)
- **image_url**: URL изображения
- **width**: ширина изображения
- **height**: высота изображения


#### Таблица Collection

Хранит пользовательские коллекции игр [^2][^7]:

- **id**: уникальный идентификатор коллекции
- **name**: название коллекции
- **description**: описание коллекции
- **created_at**: дата создания коллекции


#### Таблица CollectionGame

Связующая таблица для связи "многие-ко-многим" между коллекциями и играми [^8]:

- **collection_id**: идентификатор коллекции (Foreign Key)
- **game_id**: идентификатор игры (Foreign Key)


## 3. СТРАТЕГИЯ КЭШИРОВАНИЯ

Приложение использует гибридную стратегию кэширования для эффективной работы в офлайн-режиме [^9][^10]:

### 3.1 Диаграмма потока данных (Cache-First)

```
┌─────────────────┐      ┌─────────────────┐     ┌─────────────────┐
│     UI слой     │      │   Repository    │     │     Room DB     │
│   (ViewModel)   │─────▶│     (Data)      │────▶│    (Кэш)        │
└─────────────────┘      └─────────────────┘     └─────────────────┘
                                │  ▲                     │  ▲
                                │  │                     │  │
                                │  │                     │  │
                                ▼  │                     │  │
                          ┌─────────────────┐           │  │
                          │    RAWG API     │◀──────────┘  │
                          │   (Remote)      │              │
                          └─────────────────┘              │
                                   │                       │
                                   ▼                       │
                          ┌─────────────────┐              │
                          │  Обновление     │──────────────┘
                          │    кэша         │
                          └─────────────────┘
```


### 3.2 Уровни кэширования

Приложение использует три уровня кэширования [^11][^10]:

1. **In-Memory Cache (LRU Cache)** - для часто запрашиваемых данных, таких как:
    - Текущие списки игр в основных экранах
    - Детали открытой в данный момент игры
    - Данные для быстрого доступа
2. **Persistent Cache (Room Database)** - для долгосрочного хранения:
    - Полные данные просмотренных игр
    - Пользовательские коллекции и избранное
    - Метаданные (жанры, платформы)
3. **Disk Cache (для изображений)** - для хранения загруженных изображений:
    - Обложки игр
    - Скриншоты
    - Управление размером кэша с политикой LRU (Least Recently Used)

### 3.3 Политика TTL (Time-To-Live)

Данные имеют разные периоды актуальности [^9][^12]:

- Списки игр: 24 часа
- Детали игры: 7 дней
- Жанры и платформы: 30 дней


## 4. ЭКРАНЫ ПРИЛОЖЕНИЯ

### 4.1 Основная навигация

Приложение использует Bottom Navigation с 4 основными разделами [^13][^14]:

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│                        ОСНОВНОЙ КОНТЕНТ                        │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
└────────────────────────────────────────────────────────────────┘
┌────────────────┬────────────────┬────────────────┬────────────────┐
│                │                │                │                │
│     Главная    │     Поиск      │   Библиотека   │    Профиль     │
│                │                │                │                │
└────────────────┴────────────────┴────────────────┴────────────────┘
```


### 4.2 Экран "Главная"

```
┌────────────────────────────────────────────────────────────────┐
│ GameHub                                            [Настройки] │
├────────────────────────────────────────────────────────────────┤
│ ┌────────────────────────────────────────────────────────────┐ │
│ │                                                            │ │
│ │                     [КАРУСЕЛЬ БАННЕРОВ]                    │ │
│ │                                                            │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ Новые релизы                                       Показать все│
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐           │
│ │ ██████   │ │ ██████   │ │ ██████   │ │ ██████   │           │
│ │ Game 1   │ │ Game 2   │ │ Game 3   │ │ Game 4   │           │
│ │ ★★★★☆    │ │ ★★★☆☆    │ │ ★★★★★    │ │ ★★☆☆☆    │           │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘           │
│                                                                │
│ Популярные                                        Показать все│
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐           │
│ │ ██████   │ │ ██████   │ │ ██████   │ │ ██████   │           │
│ │ Game 5   │ │ Game 6   │ │ Game 7   │ │ Game 8   │           │
│ │ ★★★★☆    │ │ ★★★★★    │ │ ★★★☆☆    │ │ ★★★★☆    │           │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘           │
│                                                                │
│ Рекомендации для вас                              Показать все│
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐           │
│ │ ██████   │ │ ██████   │ │ ██████   │ │ ██████   │           │
│ │ Game 9   │ │ Game 10  │ │ Game 11  │ │ Game 12  │           │
│ │ ★★★★☆    │ │ ★★★★★    │ │ ★★★☆☆    │ │ ★★★★☆    │           │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘           │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Отображение главного баннера с популярными играми [^15][^3]
- Горизонтальные списки игр в категориях: "Новые релизы", "Популярные", "Рекомендации" [^13][^16]
- Переход к детальной информации об игре по тапу на карточку [^14][^17]
- Переход к полному списку игр категории по кнопке "Показать все" [^16]

**Кэширование данных:**

- Все категории игр кэшируются в Room Database на 24 часа [^9][^12]
- Обложки игр кэшируются на диске с помощью Glide/Picasso [^15][^18]
- Данные о баннерах хранятся в памяти (in-memory) [^18]

**Сетевые запросы:**

- При первом открытии или обновлении: `GET /api/games?key={api_key}&dates=2025-05-01,2025-06-14&ordering=-released` (для новых релизов) [^3][^5]
- `GET /api/games?key={api_key}&ordering=-rating` (для популярных) [^6][^19]
- `GET /api/games?key={api_key}&ordering=-added` (для рекомендаций) [^6]


### 4.3 Экран "Поиск"

```
┌────────────────────────────────────────────────────────────────┐
│ ┌────────────────────────────────────────────────────┐ [Фильтр]│
│ │ 🔍  Поиск игр...                                    │         │
│ └────────────────────────────────────────────────────┘         │
│                                                                │
│ Быстрые фильтры:                                               │
│ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐        │
│ │ Action │ │  RPG   │ │ PS5    │ │  PC    │ │ Racing │        │
│ └────────┘ └────────┘ └────────┘ └────────┘ └────────┘        │
│                                                                │
│ Результаты поиска:                                             │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ ┌──────────┐                                               │ │
│ │ │ ██████   │  Game Title 1                                 │ │
│ │ │          │  ★★★★☆ | Action, Adventure | PC, PS5          │ │
│ │ └──────────┘                                               │ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ ┌──────────┐                                               │ │
│ │ │ ██████   │  Game Title 2                                 │ │
│ │ │          │  ★★★★★ | RPG, Strategy | Xbox, PC             │ │
│ │ └──────────┘                                               │ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ ┌──────────┐                                               │ │
│ │ │ ██████   │  Game Title 3                                 │ │
│ │ │          │  ★★★☆☆ | Indie, Casual | PC, Switch          │ │
│ │ └──────────┘                                               │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Поисковая строка с автодополнением [^16][^17]
- Быстрые фильтры по жанрам и платформам [^10][^15]
- Список результатов поиска с использованием RecyclerView [^20][^16]
- Кнопка расширенных фильтров, открывающая отдельный экран [^14]

**Кэширование данных:**

- История поисковых запросов (хранится в Room DB) [^11][^10]
- Результаты популярных поисковых запросов кэшируются на 24 часа [^9]
- Метаданные для фильтров (жанры, платформы) кэшируются на 30 дней [^10]

**Сетевые запросы:**

- При вводе в поисковую строку: `GET /api/games?key={api_key}&search={query}` (с задержкой 300мс) [^5][^6]
- При применении фильтров: `GET /api/games?key={api_key}&genres={genres}&platforms={platforms}` [^6][^19]
- При первой загрузке экрана: `GET /api/genres?key={api_key}` и `GET /api/platforms?key={api_key}` [^3][^5]


### 4.4 Экран "Детали игры"

```
┌────────────────────────────────────────────────────────────────┐
│ ← Назад                                      ♡ [Поделиться]    │
├────────────────────────────────────────────────────────────────┤
│ ┌────────────────────────────────────────────────────────────┐ │
│ │                                                            │ │
│ │                      [ОБЛОЖКА ИГРЫ]                        │ │
│ │                                                            │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ Game Title                                                     │
│ ★★★★☆ 4.5 | Metacritic: 85 | 10 June 2025                     │
│                                                                │
│ ┌────────┐ ┌────────┐ ┌────────────────┐                      │
│ │ В изб. │ │ + Колл.│ │ Установить ▼   │                      │
│ └────────┘ └────────┘ └────────────────┘                      │
│                                                                │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐                           │
│ │ ОБЗОР   │ │ МЕДИА   │ │ПОХОЖИЕ  │                           │
│ └─────────┘ └─────────┘ └─────────┘                           │
│                                                                │
│ Описание:                                                      │
│ Lorem ipsum dolor sit amet, consectetur adipiscing elit.       │
│ Nullam euismod, nisl eget aliquam ultricies, nisl nisl         │
│ aliquet nisl, eget aliquet nisl nisl eget...                   │
│                                                                │
│ Платформы:                                                     │
│ PC, PlayStation 5, Xbox Series X/S                             │
│                                                                │
│ Разработчик:                                                   │
│ Developer Studio                                               │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Полный просмотр информации об игре (название, рейтинг, описание) [^16][^3]
- Кнопки добавления в избранное и коллекции [^13][^20]
- Табы для переключения между разделами (Обзор, Медиа, Похожие) [^21]
- Просмотр скриншотов и трейлеров (в разделе Медиа) [^6]
- Кнопка "Поделиться" для отправки ссылки на игру [^13]

**Кэширование данных:**

- Полные данные о просмотренной игре кэшируются в Room DB на 7 дней [^9][^10]
- Скриншоты кэшируются на диске [^11][^12]
- Информация о статусе "в избранном" хранится постоянно [^10][^2]

**Сетевые запросы:**

- При открытии экрана: `GET /api/games/{game_id}?key={api_key}` [^3][^6]
- При переходе на вкладку Медиа: `GET /api/games/{game_id}/screenshots?key={api_key}` [^6][^19]
- При переходе на вкладку Похожие: `GET /api/games/{game_id}/suggested?key={api_key}` [^6]


### 4.5 Экран "Галерея скриншотов"

```
┌────────────────────────────────────────────────────────────────┐
│ ← Назад                                      2/12 [Скачать]    │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│  ◂                                                          ▸  │
│                                                                │
│                  [ПОЛНОЭКРАННЫЙ СКРИНШОТ]                      │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
│                                                                │
├────────────────────────────────────────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐       │
│ │  ▣  │ │  □  │ │  □  │ │  □  │ │  □  │ │  □  │ │  □  │       │
│ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘       │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Полноэкранный просмотр скриншотов с жестами свайпа для навигации [^15][^13]
- ViewPager для переключения между скриншотами [^21]
- Миниатюры скриншотов внизу экрана [^20]
- Кнопка для сохранения скриншота в галерею устройства [^15]

**Кэширование данных:**

- Скриншоты кэшируются на диск с помощью Glide/Picasso [^11][^15]
- URL скриншотов хранятся в Room DB [^8][^7]

**Сетевые запросы:**

- Загрузка скриншотов происходит при первом запросе: `GET /api/games/{game_id}/screenshots?key={api_key}` [^6]
- Последующие просмотры используют кэшированные изображения [^12]


### 4.6 Экран "Библиотека"

```
┌────────────────────────────────────────────────────────────────┐
│ Библиотека                                                     │
├────────────────────────────────────────────────────────────────┤
│ ┌───────────────┐ ┌───────────────┐                            │
│ │  ИЗБРАННОЕ    │ │  КОЛЛЕКЦИИ    │                            │
│ └───────────────┘ └───────────────┘                            │
│                                                                │
│ ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌────────────┐   │
│ │ ██████     │ │ ██████     │ │ ██████     │ │ ██████     │   │
│ │            │ │            │ │            │ │            │   │
│ │ Game 1     │ │ Game 2     │ │ Game 3     │ │ Game 4     │   │
│ │ ★★★★☆      │ │ ★★★★★      │ │ ★★★☆☆      │ │ ★★★★☆      │   │
│ └────────────┘ └────────────┘ └────────────┘ └────────────┘   │
│                                                                │
│ ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌────────────┐   │
│ │ ██████     │ │ ██████     │ │ ██████     │ │ ██████     │   │
│ │            │ │            │ │            │ │            │   │
│ │ Game 5     │ │ Game 6     │ │ Game 7     │ │ Game 8     │   │
│ │ ★★★★☆      │ │ ★★★★★      │ │ ★★★☆☆      │ │ ★★★★☆      │   │
│ └────────────┘ └────────────┘ └────────────┘ └────────────┘   │
│                                                                │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Табы для переключения между "Избранное" и "Коллекции" [^13][^22]
- Grid-отображение избранных игр с использованием RecyclerView и GridLayoutManager [^20][^16]
- Удаление из избранного через долгий тап или свайп [^20][^17]
- Сортировка игр по разным критериям (рейтинг, название, дата добавления) [^10]

**Кэширование данных:**

- Избранные игры хранятся полностью в локальной базе данных (Room) без срока устаревания [^2][^4]
- Обложки игр кэшируются на диске [^11][^18]

**Сетевые запросы:**

- При первом открытии или pull-to-refresh: обновление метаданных избранных игр [^2]
- Для каждой игры в избранном: `GET /api/games/{game_id}?key={api_key}` для проверки актуальности данных [^3][^6]


### 4.7 Экран "Коллекции"

```
┌────────────────────────────────────────────────────────────────┐
│ Библиотека                                                     │
├────────────────────────────────────────────────────────────────┤
│ ┌───────────────┐ ┌───────────────┐                            │
│ │  ИЗБРАННОЕ    │ │  КОЛЛЕКЦИИ    │                            │
│ └───────────────┘ └───────────────┘                            │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Мои RPG                                                    │ │
│ │ ┌─────┐ ┌─────┐ ┌─────┐                                    │ │
│ │ │ ███ │ │ ███ │ │ ███ │ 12 игр                             │ │
│ │ └─────┘ └─────┘ └─────┘                                    │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Пройденные                                                 │ │
│ │ ┌─────┐ ┌─────┐ ┌─────┐                                    │ │
│ │ │ ███ │ │ ███ │ │ ███ │ 8 игр                              │ │
│ │ └─────┘ └─────┘ └─────┘                                    │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Стратегии                                                  │ │
│ │ ┌─────┐ ┌─────┐ ┌─────┐                                    │ │
│ │ │ ███ │ │ ███ │ │ ███ │ 6 игр                              │ │
│ │ └─────┘ └─────┘ └─────┘                                    │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│                        [+] Создать коллекцию                  │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Список пользовательских коллекций [^13][^20]
- Каждая коллекция отображается с превью из нескольких обложек [^15][^17]
- Кнопка "Создать коллекцию" для создания новой коллекции [^22]
- Переход к деталям коллекции по тапу на элемент [^13]

**Кэширование данных:**

- Все коллекции и их состав хранятся в локальной базе данных без срока устаревания [^2][^4]
- Для отображения превью используются кэшированные обложки [^11]

**Сетевые запросы:**

- Нет прямых запросов к API - данные о коллекциях хранятся только локально [^2]
- При открытии деталей коллекции могут запрашиваться обновления для игр [^6]


### 4.8 Экран "Детали коллекции"

```
┌────────────────────────────────────────────────────────────────┐
│ ← Назад                                     [Изменить] [⋮]     │
├────────────────────────────────────────────────────────────────┤
│ Мои RPG                                                        │
│ 12 игр • Создана 10.05.2025                                    │
│                                                                │
│ ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌────────────┐   │
│ │ ██████     │ │ ██████     │ │ ██████     │ │ ██████     │   │
│ │            │ │            │ │            │ │            │   │
│ │ Game 1     │ │ Game 2     │ │ Game 3     │ │ Game 4     │   │
│ │ ★★★★☆      │ │ ★★★★★      │ │ ★★★☆☆      │ │ ★★★★☆      │   │
│ └────────────┘ └────────────┘ └────────────┘ └────────────┘   │
│                                                                │
│ ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌────────────┐   │
│ │ ██████     │ │ ██████     │ │ ██████     │ │ ██████     │   │
│ │            │ │            │ │            │ │            │   │
│ │ Game 5     │ │ Game 6     │ │ Game 7     │ │ Game 8     │   │
│ │ ★★★★☆      │ │ ★★★★★      │ │ ★★★☆☆      │ │ ★★★★☆      │   │
│ └────────────┘ └────────────┘ └────────────┘ └────────────┘   │
│                                                                │
│ [+ Добавить игры]                                              │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Отображение всех игр в коллекции в виде сетки [^20][^16]
- Кнопка "Изменить" для редактирования названия и описания коллекции [^15]
- Меню с дополнительными действиями (удалить коллекцию, поделиться) [^22]
- Кнопка "Добавить игры" для добавления игр в коллекцию [^10]

**Кэширование данных:**

- Данные о коллекции и ее составе хранятся локально [^2][^4]
- Для отображения игр используются кэшированные данные из таблицы Game [^7]

**Сетевые запросы:**

- При первом открытии или pull-to-refresh: обновление метаданных игр в коллекции [^2]
- Для каждой игры: `GET /api/games/{game_id}?key={api_key}` (только при необходимости обновления) [^6]


### 4.9 Экран "Профиль"

```
┌────────────────────────────────────────────────────────────────┐
│ Профиль                                                        │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│ Настройки приложения                                           │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Тема                                               Тёмная  >│ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Язык                                               Русский >│ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ Данные                                                         │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Размер кэша                                        48 МБ  >│ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Очистить кэш                                              >│ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ Уведомления                                                    │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Push-уведомления                                     Вкл  >│ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Уведомления о релизах                                Вкл  >│ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ О приложении                                                   │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Версия                                               1.0.0 │ │
│ └────────────────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Настройки темы приложения (светлая/тёмная/системная) [^15][^22]
- Управление языком приложения [^15]
- Информация о размере кэша и возможность его очистки [^11][^10]
- Настройки уведомлений [^13]
- Информация о версии приложения [^22]

**Кэширование данных:**

- Настройки пользователя хранятся в SharedPreferences [^1][^9]
- Языковые настройки применяются без перезапуска приложения [^15]

**Сетевые запросы:**

- Нет прямых запросов к API на этом экране [^2]


### 4.10 Экран "Расширенные фильтры"

```
┌────────────────────────────────────────────────────────────────┐
│ ← Назад                                     [Сбросить] [Готово]│
├────────────────────────────────────────────────────────────────┤
│ Расширенные фильтры                                            │
│                                                                │
│ Жанры                                                          │
│ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐        │
│ │✓Action │ │ RPG    │ │ Indie  │ │ Racing │ │ Puzzle │        │
│ └────────┘ └────────┘ └────────┘ └────────┘ └────────┘        │
│ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐        │
│ │ Sport  │ │ Strategy│ │✓Shooter│ │ Arcade │ │ Other  │        │
│ └────────┘ └────────┘ └────────┘ └────────┘ └────────┘        │
│                                                                │
│ Платформы                                                      │
│ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐        │
│ │✓PC     │ │ PS5    │ │ Xbox   │ │ Switch │ │ Mobile │        │
│ └────────┘ └────────┘ └────────┘ └────────┘ └────────┘        │
│                                                                │
│ Рейтинг                                                        │
│ 1 ○──●───────────────○ 5                                       │
│                                                                │
│ Год выпуска                                                    │
│ 2015 ○──────●────────○ 2025                                    │
│                                                                │
│ Сортировка                                                     │
│ ◉ По популярности                                              │
│ ○ По рейтингу                                                  │
│ ○ По дате выпуска                                              │
│ ○ По названию                                                  │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Расширенные фильтры по жанрам, платформам, рейтингу и году выпуска [^10][^15]
- Множественный выбор жанров и платформ [^10][^13]
- Слайдеры для диапазонов рейтинга и годов выпуска [^15]
- Выбор сортировки результатов [^10]
- Кнопки "Сбросить" и "Готово" для управления фильтрами [^22]

**Кэширование данных:**

- Состояние фильтров сохраняется в SharedPreferences между сессиями [^9][^10]
- Списки жанров и платформ кэшируются в Room Database [^7][^4]

**Сетевые запросы:**

- При первом открытии (если необходимо): `GET /api/genres?key={api_key}` и `GET /api/platforms?key={api_key}` [^3][^6]
- При применении фильтров формируется запрос вида: `GET /api/games?key={api_key}&genres={genres}&platforms={platforms}&dates={years}&ordering={order}` [^6][^19]


### 4.11 Экран "Добавление в коллекцию"

```
┌────────────────────────────────────────────────────────────────┐
│ ← Назад                                              [Готово]  │
├────────────────────────────────────────────────────────────────┤
│ Добавить "Game Title" в коллекции                              │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ ☑ Мои RPG                                                  │ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ ☐ Пройденные                                               │ │
│ └────────────────────────────────────────────────────────────┘ │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ ☑ Стратегии                                                │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ + Создать новую коллекцию                                  │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Список существующих коллекций с чекбоксами [^20][^22]
- Возможность выбора нескольких коллекций [^10][^15]
- Кнопка создания новой коллекции, открывающая диалог [^13][^22]
- Кнопка "Готово" для завершения выбора [^15]

**Кэширование данных:**

- Список коллекций загружается из локальной базы данных [^2][^4]
- Выбор пользователя временно хранится в памяти [^9]

**Сетевые запросы:**

- Нет прямых запросов к API, все операции выполняются локально [^2]


### 4.12 Экран "Создание коллекции"

```
┌────────────────────────────────────────────────────────────────┐
│ ← Назад                                              [Создать] │
├────────────────────────────────────────────────────────────────┤
│ Новая коллекция                                                │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Название коллекции                                         │ │
│ │ ────────────────────────────────────────────────────────── │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
│ ┌────────────────────────────────────────────────────────────┐ │
│ │ Описание (необязательно)                                   │ │
│ │ ────────────────────────────────────────────────────────── │ │
│ │ ────────────────────────────────────────────────────────── │ │
│ │ ────────────────────────────────────────────────────────── │ │
│ └────────────────────────────────────────────────────────────┘ │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

**Функционал экрана:**

- Поле ввода названия коллекции [^15][^22]
- Поле ввода описания (необязательное) [^15]
- Кнопка "Создать" для завершения создания [^13][^22]

**Кэширование данных:**

- Новая коллекция сохраняется в локальной базе данных [^7][^2]

**Сетевые запросы:**

- Нет прямых запросов к API, все операции выполняются локально [^2]


### 4.13 Диалог "Оценка игры"

```
┌───────────────────────────────────┐
│          Оцените игру             │
│          Game Title               │
├───────────────────────────────────┤
│                                   │
│          ☆ ☆ ☆ ☆ ☆               │
│                                   │
│ ┌───────────────┐ ┌───────────────┐
│ │    Отмена     │ │   Оценить     │
│ └───────────────┘ └───────────────┘
└───────────────────────────────────┘
```

**Функционал диалога:**

- Интерактивные звезды для выставления оценки от 1 до 5 [^15][^13]
- Кнопки "Отмена" и "Оценить" [^15]

**Кэширование данных:**

- Оценка пользователя сохраняется в локальной базе данных [^7][^2]

**Сетевые запросы:**

- Нет прямых запросов к API, все операции выполняются локально [^2]


## 5. АРХИТЕКТУРА ПРИЛОЖЕНИЯ

### 5.1 Диаграмма архитектуры приложения

```
┌───────────────────────────────────────────────────────────────┐
│                         UI Layer                              │
│                                                               │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐│
│  │     Activity    │  │    Fragment     │  │    ViewModel    ││
│  └─────────────────┘  └─────────────────┘  └─────────────────┘│
└───────────────────────────────────────────────────────────────┘
                              ▲
                              │
                              ▼
┌───────────────────────────────────────────────────────────────┐
│                        Domain Layer                           │
│                                                               │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐│
│  │    Use Cases    │  │     Entities    │  │   Repositories  ││
│  │    (Interactors)│  │                 │  │    (Interfaces) ││
│  └─────────────────┘  └─────────────────┘  └─────────────────┘│
└───────────────────────────────────────────────────────────────┘
                              ▲
                              │
                              ▼
┌───────────────────────────────────────────────────────────────┐
│                         Data Layer                            │
│                                                               │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐│
│  │    Repository   │  │  Local Source   │  │  Remote Source  ││
│  │  (Implementation)│  │    (Room DB)    │  │   (RAWG API)    ││
│  └─────────────────┘  └─────────────────┘  └─────────────────┘│
└───────────────────────────────────────────────────────────────┘
```

Приложение использует современную многоуровневую архитектуру, соответствующую рекомендациям Google по разработке Android-приложений [^1][^23]:

1. **UI Layer (Presentation)** - Слой пользовательского интерфейса [^15][^13]:
    - Активности и фрагменты
    - ViewModels, управляющие состоянием UI
    - Адаптеры для RecyclerView
2. **Domain Layer** - Бизнес-логика приложения [^1][^23]:
    - Use Cases (Interactors) - конкретные действия пользователя
    - Entities - бизнес-модели
    - Repository interfaces - абстракции для работы с данными
3. **Data Layer** - Управление данными [^7][^2]:
    - Repository implementations - реализация интерфейсов
    - Local Source - работа с локальной базой данных (Room)
    - Remote Source - работа с удаленным API (RAWG)

### 5.2 Основные принципы:

- **Single Source of Truth** - Room Database является единственным источником данных для UI [^7][^2]
- **Offline-First** - приложение работает в офлайн-режиме, сеть используется только для обновления данных [^2][^4]
- **Reactive Programming** - использование Flow/LiveData для реактивного обновления UI [^23][^7]
- **Dependency Injection** - использование Hilt для внедрения зависимостей [^1][^23]
- **Clean Architecture** - четкое разделение слоев и ответственности [^1][^24]


## 6. РЕКОМЕНДАЦИИ ПО РЕАЛИЗАЦИИ

### 6.1 Многомодульность

Проект организован в виде многомодульной структуры [^1][^23]:

```
app/
├── app/                  # Главный модуль приложения
├── core/
│   ├── network/         # Сетевой слой
│   ├── database/        # Локальная база данных
│   ├── common/          # Общие компоненты
│   └── ui/              # UI компоненты
├── feature/
│   ├── home/            # Модуль "Главная"
│   ├── search/          # Модуль "Поиск"
│   ├── details/         # Модуль "Детали игры"
│   ├── collections/     # Модуль "Коллекции"
│   └── profile/         # Модуль "Профиль"
└── data/
    ├── repository/      # Репозитории
    └── models/          # Модели данных
```


### 6.2 Основные библиотеки

Рекомендуемый стек технологий [^1][^7]:

- **Jetpack Compose + XML** - для UI
- **Kotlin Coroutines + Flow** - для асинхронных операций
- **Room** - для локальной базы данных
- **Retrofit + OkHttp** - для сетевых запросов
- **Hilt** - для внедрения зависимостей
- **Glide/Coil** - для загрузки изображений
- **Navigation Component** - для навигации между экранами
- **WorkManager** - для фоновых задач


### 6.3 Стратегия кэширования изображений

Для эффективного кэширования изображений рекомендуется [^11][^15]:

1. Использовать Glide/Coil с настроенной стратегией кэширования
2. Установить ограничение на размер кэша (100MB)
3. Использовать политику LRU (Least Recently Used)
4. Настроить автоматическую очистку кэша при нехватке места

## 7. ЗАКЛЮЧЕНИЕ

GameHub представляет собой современное Android-приложение с полной поддержкой офлайн-режима, использующее лучшие практики разработки. Спроектированная архитектура и стратегия кэширования обеспечивают эффективную работу приложения даже при отсутствии интернет-соединения [^1][^2][^4].

Приложение демонстрирует использование множества современных инструментов и паттернов Android-разработки, что делает его отличным примером для изучения и портфолио [^1][^23][^7].

<div style="text-align: center">⁂</div>

[^1]: https://developer.android.com/training/data-storage/room

[^2]: https://www.couchbase.com/blog/offline-first-more-reliable-mobile-apps/

[^3]: https://rawg.io/apidocs

[^4]: https://developer.android.com/topic/architecture/data-layer/offline-first

[^5]: https://rawgthedocs.orels.sh/api/

[^6]: https://publicapis.io/rawg-api

[^7]: https://daily.dev/blog/android-room-persistence-library-complete-guide

[^8]: https://developer.android.com/training/data-storage/room/relationships

[^9]: https://hackernoon.com/android-an-effective-approach-to-building-caches

[^10]: https://www.linkedin.com/pulse/implementing-effective-mobile-app-caching-strategies-2024-appsunify-qxmrc

[^11]: https://30dayscoding.com/blog/caching-strategies-for-mobile-applications

[^12]: https://developer.android.com/develop/connectivity/avoid-unoptimized-downloads

[^13]: https://developer.android.com/guide/navigation

[^14]: https://medium.com/android-news/ultimate-guide-to-bottom-navigation-on-android-75e4efb8105f

[^15]: https://adapty.io/blog/android-layouts-and-views/

[^16]: https://clouddevs.com/android/mastering-recyclerview/

[^17]: https://stackoverflow.com/questions/44432568/android-design-game-card-ui

[^18]: https://codingwithevan.com/android_memory_caching/

[^19]: https://github.com/dherran/laravel-rawg

[^20]: https://www.linkedin.com/pulse/improving-performance-user-experience-recyclerview-kotlin-pradana-vl6gc

[^21]: https://www.reddit.com/r/androiddev/comments/ghj197/proper_usage_of_the_navigation_component_within_a/

[^22]: https://android-app-development-documentation.readthedocs.io/en/latest/BottomNavigation.html

[^23]: https://www.youtube.com/watch?v=wdgm7FW-4fM

[^24]: https://stackoverflow.com/questions/67992238/singleton-design-pattern-to-get-a-roomdatabase-instance

[^25]: https://www.deverg.global/blog/best-practices-for-designing-and-scaling-database-architecture-wbdxc

[^26]: https://github.com/codepath/android_guides/wiki/Common-Navigation-Paradigms

[^27]: https://www.techotopia.com/index.php?title=The_Android_Room_Persistence_Library\&mobileaction=toggle_view_desktop

[^28]: https://m2.material.io/components/bottom-navigation

[^29]: https://androiduipatterns.com/on-the-bottom-navigation-bar-d07d9b4b5e18

[^30]: https://api.rawg.io/docs/

[^31]: https://github.com/hgeorgilas/rawg_api

[^32]: https://chromeos.dev/en/posts/gdc-2019-recap

[^33]: https://www.appypievibe.ai/blog/app-database-design

[^34]: https://google-developer-training.github.io/android-developer-fundamentals-course-concepts/en/Unit 2/43_c_screen_navigation.html

[^35]: https://herrbert74.github.io/posts/caching-strategies-in-android/

[^36]: https://developer.android.com/design/ui/mobile/guides/layout-and-content/layout-basics

[^37]: https://zeroheight.com/6d2425e9f/p/1413a0-navigation-bottom

[^38]: https://guides.codepath.com/android/viewpager-with-fragmentpageradapter

[^39]: https://www.youtube.com/watch?v=PEfenmYPQHY\&authuser=7

[^40]: https://www.youtube.com/watch?v=lFWnPq4Wr-4

